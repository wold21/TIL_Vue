<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Socket, Port, TCP connection 1부</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.1b1cc691.css" as="style"><link rel="preload" href="/assets/js/app.3d4a244f.js" as="script"><link rel="preload" href="/assets/js/2.5a32e135.js" as="script"><link rel="preload" href="/assets/js/3.aebfae9b.js" as="script"><link rel="preload" href="/assets/js/27.1b69d916.js" as="script"><link rel="prefetch" href="/assets/js/10.2cc83b15.js"><link rel="prefetch" href="/assets/js/11.33c10e0d.js"><link rel="prefetch" href="/assets/js/12.f786714f.js"><link rel="prefetch" href="/assets/js/13.9b126dd3.js"><link rel="prefetch" href="/assets/js/14.a7e2c688.js"><link rel="prefetch" href="/assets/js/15.25e2fd6d.js"><link rel="prefetch" href="/assets/js/16.2e656889.js"><link rel="prefetch" href="/assets/js/17.7e3b5de5.js"><link rel="prefetch" href="/assets/js/18.309da85a.js"><link rel="prefetch" href="/assets/js/19.3a3eceec.js"><link rel="prefetch" href="/assets/js/20.18c8ec60.js"><link rel="prefetch" href="/assets/js/21.b24689ab.js"><link rel="prefetch" href="/assets/js/22.9c89ce63.js"><link rel="prefetch" href="/assets/js/23.79301e0f.js"><link rel="prefetch" href="/assets/js/24.3d296499.js"><link rel="prefetch" href="/assets/js/25.619476bf.js"><link rel="prefetch" href="/assets/js/26.61f50732.js"><link rel="prefetch" href="/assets/js/28.89a735d6.js"><link rel="prefetch" href="/assets/js/29.ccc8a54a.js"><link rel="prefetch" href="/assets/js/30.d49bb387.js"><link rel="prefetch" href="/assets/js/31.a19a50ca.js"><link rel="prefetch" href="/assets/js/32.76335e46.js"><link rel="prefetch" href="/assets/js/33.0ae2bfb5.js"><link rel="prefetch" href="/assets/js/34.d9ef7fa5.js"><link rel="prefetch" href="/assets/js/35.debc6a05.js"><link rel="prefetch" href="/assets/js/36.b36a476d.js"><link rel="prefetch" href="/assets/js/37.e73e7c0d.js"><link rel="prefetch" href="/assets/js/38.385ed8d9.js"><link rel="prefetch" href="/assets/js/39.4c01027a.js"><link rel="prefetch" href="/assets/js/4.f8c46463.js"><link rel="prefetch" href="/assets/js/40.c3b57856.js"><link rel="prefetch" href="/assets/js/41.f817b799.js"><link rel="prefetch" href="/assets/js/42.d49708a0.js"><link rel="prefetch" href="/assets/js/43.a8ee7d70.js"><link rel="prefetch" href="/assets/js/44.a1e601a9.js"><link rel="prefetch" href="/assets/js/45.51e3202e.js"><link rel="prefetch" href="/assets/js/46.7bca72a3.js"><link rel="prefetch" href="/assets/js/47.8fa0eb38.js"><link rel="prefetch" href="/assets/js/48.d3350cee.js"><link rel="prefetch" href="/assets/js/49.4f1950c1.js"><link rel="prefetch" href="/assets/js/5.2130f56c.js"><link rel="prefetch" href="/assets/js/50.fec7fb28.js"><link rel="prefetch" href="/assets/js/51.e5fa504c.js"><link rel="prefetch" href="/assets/js/52.4d664b62.js"><link rel="prefetch" href="/assets/js/53.74988712.js"><link rel="prefetch" href="/assets/js/54.e9d80ed6.js"><link rel="prefetch" href="/assets/js/55.164a2e7f.js"><link rel="prefetch" href="/assets/js/56.512d2576.js"><link rel="prefetch" href="/assets/js/57.fb9ac4c5.js"><link rel="prefetch" href="/assets/js/58.35b9518f.js"><link rel="prefetch" href="/assets/js/59.00b99f19.js"><link rel="prefetch" href="/assets/js/6.d38de28a.js"><link rel="prefetch" href="/assets/js/60.38a4b3d7.js"><link rel="prefetch" href="/assets/js/61.a3b39054.js"><link rel="prefetch" href="/assets/js/62.ce8b53be.js"><link rel="prefetch" href="/assets/js/63.326b967f.js"><link rel="prefetch" href="/assets/js/64.b0b43d93.js"><link rel="prefetch" href="/assets/js/65.2dfaee8f.js"><link rel="prefetch" href="/assets/js/66.937c1489.js"><link rel="prefetch" href="/assets/js/67.11f94983.js"><link rel="prefetch" href="/assets/js/68.66691571.js"><link rel="prefetch" href="/assets/js/69.b67bcb71.js"><link rel="prefetch" href="/assets/js/7.dc811ad6.js"><link rel="prefetch" href="/assets/js/70.4bb0d425.js"><link rel="prefetch" href="/assets/js/71.a711bb40.js"><link rel="prefetch" href="/assets/js/72.a00784a6.js"><link rel="prefetch" href="/assets/js/73.7baf6484.js"><link rel="prefetch" href="/assets/js/74.5f614c64.js"><link rel="prefetch" href="/assets/js/75.7adcb2c8.js"><link rel="prefetch" href="/assets/js/76.12fe6f01.js"><link rel="prefetch" href="/assets/js/77.41a3cb45.js"><link rel="prefetch" href="/assets/js/78.3681aa9e.js"><link rel="prefetch" href="/assets/js/79.8bfb4e66.js"><link rel="prefetch" href="/assets/js/8.ce67ea46.js"><link rel="prefetch" href="/assets/js/80.c8caf8e2.js"><link rel="prefetch" href="/assets/js/81.1498914c.js"><link rel="prefetch" href="/assets/js/82.d2ef4e52.js"><link rel="prefetch" href="/assets/js/83.679e6c79.js"><link rel="prefetch" href="/assets/js/84.d8c96402.js"><link rel="prefetch" href="/assets/js/85.00dbb840.js"><link rel="prefetch" href="/assets/js/86.26adffd9.js"><link rel="prefetch" href="/assets/js/9.2f95cc59.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1b1cc691.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="socket-port-tcp-connection-1부"><a href="#socket-port-tcp-connection-1부" class="header-anchor">#</a> Socket, Port, TCP connection 1부</h1> <h2 id="osi-7-layer와-tcp-ip-stack의-차이"><a href="#osi-7-layer와-tcp-ip-stack의-차이" class="header-anchor">#</a> OSI 7 layer와 TCP/IP stack의 차이</h2> <ul><li>OSI 7 layer는 네트워크 시스템 구성을 위한 범용적이고 <code>개념적인 모델</code> <ul><li>관리 주체 : ISO/IEC</li></ul></li> <li>TCP/IP stack은 인터넷이 발명되면서 함께 개발된 <code>프로토콜 스택</code> <ul><li>관리 주체 : IETF에서 인터넷 표준을 관리(RFC 문서)</li> <li>TCP, UDP, IP 등의 스펙은 RFC에서 정의</li></ul></li></ul> <p>그래서 사실 인터넷에서 실제 사용되고 있는 모델은 TCP/IP stack이라고 생각하면 된다.</p> <h2 id="tcp-ip-stack"><a href="#tcp-ip-stack" class="header-anchor">#</a> TCP/IP stack</h2> <h3 id="system"><a href="#system" class="header-anchor">#</a> System</h3> <p><span style="color:blue;font-weight:bold;">transport</span>, <span style="color:green;font-weight:bold;"> internet layer</span>, <span style="color:#005666;font-weight:bold;">link layer</span>는 하드웨어나 펌웨어 혹은 OS 레벨에서 구현/관리하고 있으며 네트워크 기능을 <code>지원</code>하는데 목적이 있다.</p> <h3 id="application"><a href="#application" class="header-anchor">#</a> Application</h3> <p>반면에 <span style="color:orange;font-weight:bold;">application layer</span>는 어플리케이션 레벨에서 구현되거나 관리하며 네트워크 기능을 <code>사용</code>하는데 목적이 있다.</p> <h2 id="port"><a href="#port" class="header-anchor">#</a> Port</h2> <p>TCP/IP stack은 이제 크게 애플리케이션과 시스템으로 나누어 살펴볼 수 있다. 애플리케이션에는 어떤 프로세스가 있고 이 프로세스가 네트워크 통신을 하고 싶다고 하면 시스템 영역과 연결하여 통신을 해야하는데 이때 통로 역할을 해주는 것이 바로 port이다.</p> <img src="/assets/img/port.7dd33746.png" alt="port" height="300"> <p>프로세스는 하나의 포트를 필요로 하기도 하지만 여러개의 포트를 필요로 하기도 한다. 각 포트는 port name을 가지고 있어 이를 통해 식별한다. 이제 이 포트를 통해서 서로 떨어져있는 프로세스가 통신할 수 있게 되는데 이때 시스템 영역은 internet protocol을 사용하여 통신을 하게 된다. internet protocol은 신뢰할 수 없는 프로토콜인데 그 이유는 전송 중 데이터가 유실되거나 보내는 순서대로 받지 못할 수 있기 때문이다. 대신 속도가 빠르다는 장점이 있다.</p> <blockquote><p>Internet Protocol?<br>
하나의 프로세서에서 다른 프로세서로 데이터를 보내는 프로토콜</p></blockquote> <img src="/assets/img/internet_protocol.dd8f34e3.png" alt="internet_protocol" height="300"> <p>그래서 프로세스간 데이터를 안정적으로 주고 받을 수 있는 프로토콜의 필요성이 생겼다. 그렇게 개발된 것이 바로 TCP(transmission control protocol)이다. TCP는 internet protocol위에서 동작하지만 어떠한 개념으로 인해 프로세스 간 통신을 안정적으로 할 수 있게 하였다.</p> <h3 id="tcp-rec-793-connection"><a href="#tcp-rec-793-connection" class="header-anchor">#</a> TCP(REC 793) Connection</h3> <h4 id="connection"><a href="#connection" class="header-anchor">#</a> Connection</h4> <p>프로세스 간의 안정적이로 논리적인 통신 통로</p> <ol><li>connection을 열고
<ul><li>3-way handshaking 방식을 사용함.</li></ul></li> <li>데이터를 주고 받고</li> <li>connection을 닫는다.
<ul><li>4-way handshaking 방식을 사용함.
이러한 과정을 가진 연결 방식을 <code>connection-oriented</code>이다.</li></ul></li></ol> <h3 id="인터넷-상에서-어떻게-포트를-식별할까"><a href="#인터넷-상에서-어떻게-포트를-식별할까" class="header-anchor">#</a> 인터넷 상에서 어떻게 포트를 식별할까?</h3> <p>수많은 프로세스들이 통신할 때 포트를 사용하기때문에 포트(number)를 정의할 필요성이 생겼다. 정의는 다음과 같다.</p> <blockquote><p>16bits로 이루어진 숫자<br>
0부터 65535까지</p></blockquote> <p>그러나 포트 넘버 만으로는 유니크하게 식별할 수가 없어서 internet address(이후 IP로 발전하게 됨.)로 각 host를 유니크하게 식별할 수 있기 때문에 internet address + port number를 사용해서 포트를 유니크하게 구분하기로 하였다. 그리고 이 internet address + port number 두 값을 합쳐 부르게 된 말이 바로 <code>Socket</code>이다. TCP의 세계관에서 소켓이란 인터넷 상에 존재하는 각 port를 유니크하게 식별하기 위한 주소라고 정의하면 된다.</p> <h3 id="connecntion-socket"><a href="#connecntion-socket" class="header-anchor">#</a> Connecntion &amp; Socket</h3> <p><b>각 Connecntion은 유니크하게 식별할 수 있어야한다.</b><br> <b>그러므로 한 쌍의 Socket은 유니크하다</b><br> <b>src internet addr, src port, dest internet addr, dest port</b><br> <b>하나의 Socket은 동시에 여러 connecntion들에서 사용될 수 있다.</b></p> <h3 id="udp-user-datagram-protocol"><a href="#udp-user-datagram-protocol" class="header-anchor">#</a> UDP(user datagram protocol)</h3> <p><b>connectionless : </b> 연결을 맺지 않고 바로 데이터를 주고 받는다.<br> <b>unreliable : </b> internet protocol을 거의 그대로 사용<br> <b>UDP 표준(RFC 768)을 보면 socket이라는 단어가 등장하지 않는다.</b></p> <h2 id="socket"><a href="#socket" class="header-anchor">#</a> Socket</h2> <p>그러나 사실 socket이라는 것이 ip에 port number를 합친 개념이라 이후 UDP에서도 socket 개념을 쓰기 시작하게 되는데 정리를 해보자면 Socket은 TCP/IP stack에서 개념적으로 통신을 안정적으로 하기위해 Socket을 발명했다. 그러나 지금은 위처럼 TCP, UDP에서 Socket을 동일하게 사용하기 때문에 이제는 protocol, ip address, port number로 식별하게 된다.</p> <img src="/assets/img/socket_connection.bbd91f30.png" alt="socket_connection" height="300"> <blockquote><p>소켓에서 8282는 오타 -&gt; 8082</p></blockquote> <h3 id="주의사항"><a href="#주의사항" class="header-anchor">#</a> 주의사항</h3> <p>실제로 네트워크 프로그래밍을 할 때는 소켓의 개념과 의미가 미묘하게 다르다. 그 중에서 소켓을 식별하는 방법에서 큰 차이가 있다고 한다.</p> <h2 id="마무리"><a href="#마무리" class="header-anchor">#</a> 마무리</h2> <p>1900년 후반 TCP/IP가 활발히 보급이 되었지만 안정적이지 못한 internet protocol을 주로 사용하던 도중 connection방식의 TCP 통신이 개발되어 안정적으로 통신할 수 있게됨. 이 방식은 연결 시 3-way handshaking, 해제 시 4-way handshaking을 주고 받는 특징이 있다.</p> <p>각 호스트 즉, 프로세스가 연결되기 위해서는 각각의 프로세스가 고유한 존재가 되어야한다. 그렇지 않으면 중구난방으로 연결되어버릴 테니까. 그래서 Socket이라는 것이 정립된다. 소켓은 ip(그때 당시 internet addredd)와 port number를 합친 것을 소켓이라고 부르게 된다. 여기서 port란 애플리케이션 영역과 시스템 영역 그러니까 TCP/IP stack을 크게 두 부분으로 나누고 하나는 소위 소프트웨어 영역 그리고 나머지는 하드웨어 영역을 가리키는데 이 두 영역을 연결해주는 것이 port이고 port의 고유한 이름이 port number이다. (*한 프로세스 당 포트는 여러개를 가질 수 있음.)</p> <p>TCP말고도 같은 레이어에 있는 UDP라는 프로토콜이 있다. 해당 프로토콜은 internet protocol을 거의 그대로 사용하는 프로토콜인데 이후 TCP처럼 socket의 개념을 그대로 사용하게 되었고 (특별하게 정의하지 않고 사용했을 수 있음.) 그래서 소켓은 protocol + ip + port number로 정의하게 되었다. TCP/10.10.10.10/8888과 같이 말이다.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3d4a244f.js" defer></script><script src="/assets/js/2.5a32e135.js" defer></script><script src="/assets/js/3.aebfae9b.js" defer></script><script src="/assets/js/27.1b69d916.js" defer></script>
  </body>
</html>
