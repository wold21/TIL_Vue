<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Web Container</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.1b1cc691.css" as="style"><link rel="preload" href="/assets/js/app.3d4a244f.js" as="script"><link rel="preload" href="/assets/js/2.5a32e135.js" as="script"><link rel="preload" href="/assets/js/3.aebfae9b.js" as="script"><link rel="preload" href="/assets/js/84.d8c96402.js" as="script"><link rel="prefetch" href="/assets/js/10.2cc83b15.js"><link rel="prefetch" href="/assets/js/11.33c10e0d.js"><link rel="prefetch" href="/assets/js/12.f786714f.js"><link rel="prefetch" href="/assets/js/13.9b126dd3.js"><link rel="prefetch" href="/assets/js/14.a7e2c688.js"><link rel="prefetch" href="/assets/js/15.25e2fd6d.js"><link rel="prefetch" href="/assets/js/16.2e656889.js"><link rel="prefetch" href="/assets/js/17.7e3b5de5.js"><link rel="prefetch" href="/assets/js/18.309da85a.js"><link rel="prefetch" href="/assets/js/19.3a3eceec.js"><link rel="prefetch" href="/assets/js/20.18c8ec60.js"><link rel="prefetch" href="/assets/js/21.b24689ab.js"><link rel="prefetch" href="/assets/js/22.9c89ce63.js"><link rel="prefetch" href="/assets/js/23.79301e0f.js"><link rel="prefetch" href="/assets/js/24.3d296499.js"><link rel="prefetch" href="/assets/js/25.619476bf.js"><link rel="prefetch" href="/assets/js/26.61f50732.js"><link rel="prefetch" href="/assets/js/27.1b69d916.js"><link rel="prefetch" href="/assets/js/28.89a735d6.js"><link rel="prefetch" href="/assets/js/29.ccc8a54a.js"><link rel="prefetch" href="/assets/js/30.d49bb387.js"><link rel="prefetch" href="/assets/js/31.a19a50ca.js"><link rel="prefetch" href="/assets/js/32.76335e46.js"><link rel="prefetch" href="/assets/js/33.0ae2bfb5.js"><link rel="prefetch" href="/assets/js/34.d9ef7fa5.js"><link rel="prefetch" href="/assets/js/35.debc6a05.js"><link rel="prefetch" href="/assets/js/36.b36a476d.js"><link rel="prefetch" href="/assets/js/37.e73e7c0d.js"><link rel="prefetch" href="/assets/js/38.385ed8d9.js"><link rel="prefetch" href="/assets/js/39.4c01027a.js"><link rel="prefetch" href="/assets/js/4.f8c46463.js"><link rel="prefetch" href="/assets/js/40.c3b57856.js"><link rel="prefetch" href="/assets/js/41.f817b799.js"><link rel="prefetch" href="/assets/js/42.d49708a0.js"><link rel="prefetch" href="/assets/js/43.a8ee7d70.js"><link rel="prefetch" href="/assets/js/44.a1e601a9.js"><link rel="prefetch" href="/assets/js/45.51e3202e.js"><link rel="prefetch" href="/assets/js/46.7bca72a3.js"><link rel="prefetch" href="/assets/js/47.8fa0eb38.js"><link rel="prefetch" href="/assets/js/48.d3350cee.js"><link rel="prefetch" href="/assets/js/49.4f1950c1.js"><link rel="prefetch" href="/assets/js/5.2130f56c.js"><link rel="prefetch" href="/assets/js/50.fec7fb28.js"><link rel="prefetch" href="/assets/js/51.e5fa504c.js"><link rel="prefetch" href="/assets/js/52.4d664b62.js"><link rel="prefetch" href="/assets/js/53.74988712.js"><link rel="prefetch" href="/assets/js/54.e9d80ed6.js"><link rel="prefetch" href="/assets/js/55.164a2e7f.js"><link rel="prefetch" href="/assets/js/56.512d2576.js"><link rel="prefetch" href="/assets/js/57.fb9ac4c5.js"><link rel="prefetch" href="/assets/js/58.35b9518f.js"><link rel="prefetch" href="/assets/js/59.00b99f19.js"><link rel="prefetch" href="/assets/js/6.d38de28a.js"><link rel="prefetch" href="/assets/js/60.38a4b3d7.js"><link rel="prefetch" href="/assets/js/61.a3b39054.js"><link rel="prefetch" href="/assets/js/62.ce8b53be.js"><link rel="prefetch" href="/assets/js/63.326b967f.js"><link rel="prefetch" href="/assets/js/64.b0b43d93.js"><link rel="prefetch" href="/assets/js/65.2dfaee8f.js"><link rel="prefetch" href="/assets/js/66.937c1489.js"><link rel="prefetch" href="/assets/js/67.11f94983.js"><link rel="prefetch" href="/assets/js/68.66691571.js"><link rel="prefetch" href="/assets/js/69.b67bcb71.js"><link rel="prefetch" href="/assets/js/7.dc811ad6.js"><link rel="prefetch" href="/assets/js/70.4bb0d425.js"><link rel="prefetch" href="/assets/js/71.a711bb40.js"><link rel="prefetch" href="/assets/js/72.a00784a6.js"><link rel="prefetch" href="/assets/js/73.7baf6484.js"><link rel="prefetch" href="/assets/js/74.5f614c64.js"><link rel="prefetch" href="/assets/js/75.7adcb2c8.js"><link rel="prefetch" href="/assets/js/76.12fe6f01.js"><link rel="prefetch" href="/assets/js/77.41a3cb45.js"><link rel="prefetch" href="/assets/js/78.3681aa9e.js"><link rel="prefetch" href="/assets/js/79.8bfb4e66.js"><link rel="prefetch" href="/assets/js/8.ce67ea46.js"><link rel="prefetch" href="/assets/js/80.c8caf8e2.js"><link rel="prefetch" href="/assets/js/81.1498914c.js"><link rel="prefetch" href="/assets/js/82.d2ef4e52.js"><link rel="prefetch" href="/assets/js/83.679e6c79.js"><link rel="prefetch" href="/assets/js/85.00dbb840.js"><link rel="prefetch" href="/assets/js/86.26adffd9.js"><link rel="prefetch" href="/assets/js/9.2f95cc59.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1b1cc691.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="web-container"><a href="#web-container" class="header-anchor">#</a> Web Container</h1> <h3 id="먼저-servlet과-jsp을-알고가야한다"><a href="#먼저-servlet과-jsp을-알고가야한다" class="header-anchor">#</a> 먼저 Servlet과 JSP을 알고가야한다.</h3> <h4 id="servlet"><a href="#servlet" class="header-anchor">#</a> Servlet</h4> <ul><li><p>Java를 이용하여 웹페이지를 동적으로 생성하는 서버측 프로그램</p></li> <li><p>흔히 CGI(Common Gateway Interface)라고 한다.</p></li> <li><p>CGI는 사용자의 요청을 받아서 동적인 HTML문서를 만드는 역할을 한다.</p></li> <li><p>Servlet이란 Java로 구현된 CGI라고 생각하면 된다.</p></li></ul> <h4 id="jsp"><a href="#jsp" class="header-anchor">#</a> JSP</h4> <ul><li><p>JavaServerPage의 약자</p></li> <li><p>HTML 코드에 Java코드를 넣어 <strong>동적 웹페이지</strong>를 생성하는 웹 어플리케이션 도구이다.</p></li> <li><p>JSP가 실행되면 Java Servlet으로 변환된다.</p></li> <li><p>WAS에서 동작되면서 필요한 기능을 수행하고 클라이언트에게 응답된다.</p></li></ul> <h2 id="web-container는"><a href="#web-container는" class="header-anchor">#</a> Web Container는?</h2> <ul><li><p>Servlet과 JSP를 실행할 수 있는 소프트웨어를 웹 컨테이너(서블릿 컨테이너)라 부른다.</p></li> <li><p>Web Server에서 JSP를 요청하면 Container에서는 JSP파일을 서블릿 파일로 변환 한 뒤 컴파일하여 이것을 실행하고 그 결과를 웹 서버에 전달한다.</p></li></ul> <p><strong>다시 한번 WebServer, Container, WAS를 정리해보자.</strong></p> <h3 id="webserver"><a href="#webserver" class="header-anchor">#</a> WebServer</h3> <ul><li><p>웹 브라우저와 같은 클라이언트로부터 HTTP 프로토콜로 요청을 받아 정적 데이터(HTML, CSS, JS 등)를 화면상에 단지 뿌려주는 역할(응답)을 하는 소프트웨어다. 대표적으로 Apache, Nginx, Node.js(자체 웹 서버 내장)이 있다.</p></li> <li><p>크게 행동에 따라 하드웨어와 소프트웨어 부분으로 나눌 수 있다.</p></li></ul> <p><strong>하드웨어</strong></p> <ul><li><p>웹사이트 컴포넌트 파일(HTML, CSS, JS, Contents(image, video 등))들을 저장하는 컴퓨터 - 최종적으로 이 파일들을 사용자에게 전달함.</p></li> <li><p>인터넷에 연결되어 있고 도메인 이름을 통해 접속될 수 있음.</p></li></ul> <p><strong>소프트웨어</strong></p> <ul><li><p>웹 사용자가 어떻게 호스트 파일들에 접근하는지를 관리</p></li> <li><p>HTTP서버는 URL(Web address)과 HTTP의 소프트웨어 일부다.</p></li></ul> <p>클라이언트가 웹 서버에 불려진 파일을 필요로 할때, 클라이언트는 HTTP를 통해 웹 서버에 파일을 요청하고 요청이 올바르게 웹 서버(하드웨어)에 도달되었을 때, HTTP서버(소프트웨어)는 요청된 문서를 HTTP를 이용해 클라이언트에게 파일을 제공한다.</p> <h3 id="web-container-2"><a href="#web-container-2" class="header-anchor">#</a> Web Container</h3> <ul><li>웹 서버에서 JSP를 요청하면 Container는 JSP파일을 서블릿 파일로 변환한 뒤 컴파일하여 그 결과를 웹 서버에게 전달.</li> <li>내가 써본 스택 중에서는 아파치가 WebServer, Tomcat이 WebContainer이다.</li> <li>Controller부터 Container단으로 볼 수 있다.</li></ul> <h3 id="was-web-application-server"><a href="#was-web-application-server" class="header-anchor">#</a> WAS(Web Application Server)</h3> <ul><li>WebServer와 WebContainer가 합쳐진것.
<ul><li>WebServer없이 WAS만 존재할 수도 있다.</li></ul></li> <li>다양한 로직 처리를 요구하는 동적 컨텐츠를 제공하기 위해 만들어진 Application Server</li> <li>Container : JSP, Servlet을 실행시킬 수 있는 소프트웨어</li> <li>WAS : JSP, Servlet 구동 환경을 제공함</li></ul> <h2 id="동작과정"><a href="#동작과정" class="header-anchor">#</a> 동작과정</h2> <img src="https://tva1.sinaimg.cn/large/008i3skNgy1grd7ig5grlj315a0kaaeg.jpg" alt="스크린샷 2021-06-10 오후 4.33.42" style="zoom:50%;"> <ol><li>WebServer를 통해 필요한 페이지를 요청받는다.</li> <li>Container가 web.xml을 참조하여 스레드를 생성하고 요청 및 응답 객체(HttpServletRequest, HttpServletResponse를 생성하여 스레드에게 전달한다.</li> <li>스레드 및 요청, 응답 객체 생성을 완료했다면 Container는 사용자의 요청에 맞는 Servlet(service)을 호출한다.</li> <li>호출된 Servlet의 요청을 담당하는 thread가 요청에 따라 doGet(), doPost()를 호출한다.</li> <li>호출된 doPost(), doGet() 메소드는 생성된 동적 페이지를 Response객체에 실어 Container에게 전달한다.</li> <li>Container는 전달받은 Response객체를 HttpResponse형태로 전환하여 웹서버에 전달하고 생성되었던 스레드를 종료하고 요청 및 응답 객체를 소멸시킨다.</li></ol> <h2 id="webserver와-was를-구분하는-이유"><a href="#webserver와-was를-구분하는-이유" class="header-anchor">#</a> WebServer와 WAS를 구분하는 이유</h2> <img src="https://tva1.sinaimg.cn/large/008i3skNgy1grd8g5tsmkj31600gcaec.jpg" alt="스크린샷 2021-06-10 오후 5.06.07" style="zoom:50%;"> <h3 id="web-server가-필요한-이유"><a href="#web-server가-필요한-이유" class="header-anchor">#</a> Web Server가 필요한 이유?</h3> <p>클라이언트에게 이미지(정적 컨텐츠)를 보낸다고 가정해보자. 이미지는 일단 HTML이 클라이언트로 보내질때 함께 가는 것이 아니라 먼저 HTML문서를 받아 페이지 틀을 잡고 이미지를 다시 서버로 요청하여 이미지를 받아온다. 이미지는 동적 컨텐츠가 아니기 때문에 WAS까지 시그널을 보낼 필요가 없다. 그렇기에 Web Server를 정적 컨텐츠 담당으로 사용해 서버의 부담을 줄일 수 있다.</p> <h3 id="was가-필요한-이유"><a href="#was가-필요한-이유" class="header-anchor">#</a> WAS가 필요한 이유?</h3> <p>만약 Web Server만 있다면 사용자가 요청할 모든 상황에 대비한 동적 페이지를 HTML로 만들어놔야하기 때문에 자원 낭비가 불가피한데 WAS를 사용해 필요한 데이터를 그때 그때 DB에 요청하여 로직에 맞게 제공할 수 있어 자원을 효율적으로 사용할 수 있다.</p> <blockquote><p>한 카페가 있다. 이 가게는 커피 머신이 구식이라 피크 타임이 올때를 대비에 많은 양의 베이스 커피를 쓸데없이 매장에 늘어 놓을 수 밖에 없다.(WAS를 사용하지 않음.) 그런데 반대편 가게는 웬일인지 피크타임 준비를 하나도 하지 않는 것이다. 며칠전 새 커피 머신을 샀다고 하더니 피크타임이 돼도 사람들이 금새 커피를 받아가는 것이었다. 미리 베이스 커피를 준비하지 않아도 새 커피머신(WAS)만 있다면 어떤 손님의 요청에도 커피를 내릴 수 있다는게 참으로 부러웠다.</p></blockquote> <h3 id="그렇다면-was가-web-server의-기능도-모두-수행하면-되지-않을까"><a href="#그렇다면-was가-web-server의-기능도-모두-수행하면-되지-않을까" class="header-anchor">#</a> 그렇다면 WAS가 Web Server의 기능도 모두 수행하면 되지 않을까?</h3> <ol><li>일단 WAS는 그 나름대로 바쁘다 DB조회를 해야하고 다양한 로직을 수행해야하기 때문에 간단한 정적 컨텐츠는 Web Server에서 처리하는것이 사용자에게도 서버에도 훨씬 좋다. 그럼에도 불구하고 WAS로 모든 것을 처리하려고 한다면 사용자는 한페이지 한페이지 볼때마다 스트레스가 쌓여갈것이다.</li> <li>물리적으로 분리하여 보안을 강화할 수 있는데 SSL에 대한 암복호화 처리에 Web Server를 사용한다.</li> <li>로드 밸런싱을 위해서 Web Server를 사용하고 Fail over, Fail back 처리에 유리하다.</li> <li>대용량 웹 어플리케이션의 경우 Web Server WAS를 분리하여 무중단 서비스를 가능하게 할 수 있다.</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3d4a244f.js" defer></script><script src="/assets/js/2.5a32e135.js" defer></script><script src="/assets/js/3.aebfae9b.js" defer></script><script src="/assets/js/84.d8c96402.js" defer></script>
  </body>
</html>
