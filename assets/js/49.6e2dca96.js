(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{437:function(s,t,a){s.exports=a.p+"assets/img/three-tier.4212f085.png"},518:function(s,t,a){"use strict";a.r(t);var e=a(17),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"stored-fuction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#stored-fuction"}},[s._v("#")]),s._v(" Stored fuction")]),s._v(" "),t("h2",{attrs:{id:"stored-fuction이란"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#stored-fuction이란"}},[s._v("#")]),s._v(" Stored fuction이란?")]),s._v(" "),t("ul",[t("li",[s._v("사용자가 정의한 함수")]),s._v(" "),t("li",[s._v("DBMS에 저장되고 사용되는 함수")]),s._v(" "),t("li",[s._v("SQL의 select, insert, update, delete statement에서 사용할 수 있다.")])]),s._v(" "),t("h3",{attrs:{id:"예제"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#예제"}},[s._v("#")]),s._v(" 예제")]),s._v(" "),t("h4",{attrs:{id:"_1-임직원의-id를-열자리-정수로-핸덤하게-발급하고-싶다-id의-맨-앞자리는-1로-고정이다"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-임직원의-id를-열자리-정수로-핸덤하게-발급하고-싶다-id의-맨-앞자리는-1로-고정이다"}},[s._v("#")]),s._v(" 1. 임직원의 ID를 열자리 정수로 핸덤하게 발급하고 싶다. ID의 맨 앞자리는 1로 고정이다.")]),s._v(" "),t("h5",{attrs:{id:"함수-선언"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#함수-선언"}},[s._v("#")]),s._v(" 함수 선언")]),s._v(" "),t("div",{staticClass:"language-SQL extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 쿼리 구문 문자 수정")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FUNCTION")]),s._v(" id_generator"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURNS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("NO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- MySQL 전용")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 함수 구현 시작")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000000000")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" floor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rand"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000000000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 함수 구현 종료")]),s._v("\n$$ "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 쿼리 종료")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 쿼리 구문 문자 복구")]),s._v("\n")])])]),t("blockquote",[t("p",[s._v("delimiter란?"),t("br"),s._v("\n구분 문자를 칭하는 말로 기본값은 ;인데 쿼리에서 ;은 쿼리가 끝났다는 것을 의미하기 때문에 함수 선언 단계에서 세미콜론을 사용할 일이 생긴다면 위와 같이 delimiter를 $$로 바꿔주고 다시 세미콜론으로 바꿔주면 된다. $$와 같은 문자는 임의로 정할 수 있다.")])]),s._v(" "),t("h5",{attrs:{id:"함수-사용"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#함수-사용"}},[s._v("#")]),s._v(" 함수 사용")]),s._v(" "),t("div",{staticClass:"language-SQL extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" employee \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id_generator"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'JEHN'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1991-08-04'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'F'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PO'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000000000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1005")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h4",{attrs:{id:"_2-부서의-id를-파라미터로-받으면-해당-부서의-평균-연봉을-알려주는-함수를-작성하자"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-부서의-id를-파라미터로-받으면-해당-부서의-평균-연봉을-알려주는-함수를-작성하자"}},[s._v("#")]),s._v(" 2. 부서의 ID를 파라미터로 받으면 해당 부서의 평균 연봉을 알려주는 함수를 작성하자.")]),s._v(" "),t("h5",{attrs:{id:"함수-선언-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#함수-선언-2"}},[s._v("#")]),s._v(" 함수 선언")]),s._v(" "),t("div",{staticClass:"language-SQL extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FUNCTION")]),s._v(" dept_avg_salary"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("d_id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURNS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("READS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATA")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- MySQL 전용")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" avg_sal "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- int타입 변수 선언")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("salary"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" avg_sal "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 조회된 데이터를 avg_sal에 대입")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" employee\n                        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" dept_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" d_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURN")]),s._v(" avg_sal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 값 리턴")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v("\n$$\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 또는 변수를 선언하지 않고 바로 쓰고 싶다면")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FUNCTION")]),s._v(" dept_avg_salary"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("d_id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURNS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("READS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATA")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- MySQL 전용")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("salary"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@avg_sal")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" employee\n                        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" dept_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" d_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@avg_sal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v("\n$$\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h5",{attrs:{id:"함수-사용-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#함수-사용-2"}},[s._v("#")]),s._v(" 함수 사용")]),s._v(" "),t("div",{staticClass:"language-SQL extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dept_avg_salary"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" avg_salary\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" department"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h4",{attrs:{id:"_3-졸업-요건-중-하나인-토익-800-이상을-충족했는지를-알려주는-함수를-작성하자"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-졸업-요건-중-하나인-토익-800-이상을-충족했는지를-알려주는-함수를-작성하자"}},[s._v("#")]),s._v(" 3. 졸업 요건 중 하나인 토익 800 이상을 충족했는지를 알려주는 함수를 작성하자.")]),s._v(" "),t("h5",{attrs:{id:"함수-선언-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#함수-선언-3"}},[s._v("#")]),s._v(" 함수 선언")]),s._v(" "),t("div",{staticClass:"language-SQL extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FUNCTION")]),s._v(" toeic_pass_fail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("toeic_score "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURNS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("NO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" pass_fail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" toeic_score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" pass_fail "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fail'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ELSEIF")]),s._v(" toeic_score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("800")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" pass_fail "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fail'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ELSE")]),s._v("                     "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" pass_fail "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'pass'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURN")]),s._v(" pass_fail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v("\n$$\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 또는")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FUNCTION")]),s._v(" toeic_pass_fail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("toeic_score "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURNS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("NO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" toeic_score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@pass_fail")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fail'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ELSEIF")]),s._v(" toeic_score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("800")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@pass_fail")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fail'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ELSE")]),s._v("                     "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@pass_fail")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'pass'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@pass_fail")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v("\n$$\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delimiter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h5",{attrs:{id:"함수-사용-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#함수-사용-3"}},[s._v("#")]),s._v(" 함수 사용")]),s._v(" "),t("div",{staticClass:"language-SQL extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" toeic_pass_fail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("toeic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"stored-fuction-정리"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#stored-fuction-정리"}},[s._v("#")]),s._v(" Stored fuction 정리")]),s._v(" "),t("ul",[t("li",[s._v("이외에도 loop를 돌면서 반복적인 작업을 수행하거나")]),s._v(" "),t("li",[s._v("case 키워드를 사용해서 값에 따라 분기 처리하거나")]),s._v(" "),t("li",[s._v("에러를 핸들링하거나 에러를 일으키는 등의 다양한 동작을 정의할 수 있다")])]),s._v(" "),t("h4",{attrs:{id:"stored-fuction-삭제하기"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#stored-fuction-삭제하기"}},[s._v("#")]),s._v(" Stored fuction 삭제하기")]),s._v(" "),t("div",{staticClass:"language-SQL extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FUNCTION")]),s._v(" stored_function_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h4",{attrs:{id:"등록된-stored-fuction-파악하기"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#등록된-stored-fuction-파악하기"}},[s._v("#")]),s._v(" 등록된 Stored fuction 파악하기")]),s._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DBMS shell에서...")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DB 조회")]),s._v("\nSHOW DATABASES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DB의 함수 조회")]),s._v("\nSHOW FUNCTION STATUS where DB "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'company'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 함수의 코드 조회")]),s._v("\nSHOW CREATE FUNCTION id_generator"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"마무리-stored-fuction은-언제-써야할까"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#마무리-stored-fuction은-언제-써야할까"}},[s._v("#")]),s._v(" 마무리 & Stored fuction은 언제 써야할까?")]),s._v(" "),t("h3",{attrs:{id:"three-tier-architecture"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#three-tier-architecture"}},[s._v("#")]),s._v(" Three-tier architecture")]),s._v(" "),t("br"),s._v(" "),t("img",{attrs:{src:a(437),alt:"three-tier",height:"300"}}),s._v(" "),t("p",[s._v('이번 부분을 공부하면서 개발자를 하고 있는 다른 형에게 질문을 했다. 왜냐하면 예전에 그 형이 "내가 지금하고 있는 프로젝트는 웬만한걸 다 DB에서 처리를 해."라고 했던 기억이 났기 때문이다. 물어본 질문은 "형 프로젝트 할 때 함수나 프로시져를 많이 써?"라는 질문이었다. 돌아온 질문은 엄청 많이 썼다고 했고 PL/SQL만 알면 크게 어렵지 않다라고 했다. 하지만 문득 이번 내용을 공부하면서 계속 관리하기가 힘들텐데...라는 생각이 멈추지 않았다. 새로 들어온 직원분이나 선임에게 전달받을 때를 생각하니 벌써부터 지쳐가는 모습이 보였기 때문이다. 물론 DB tool을 쓰고 그러면 전달은 어렵지 않겠지만 수많은 사람들이 작업하는 코드인 만큼 버려지는 함수들도 많을 것 같았고 혹시라도 연산에 부하가 걸리는 작업이라면 DB 메모리에 영향을 미치지는 않을까? 하는 걱정도 들었기 떄문이다. 마지막에 쉬운코딩님이 정리한 "Stored fuction은 언제 써야할까?"에 대한 내용은 다음과 같다. 우리 대부분의 IT 회사는 위에 보여지는 그림처럼 three-tier architecture를 따르고 있기 때문에 비즈니스 로직이거나 비슷한 로직은 비즈니스 로직에 위치해 있어야 관리도 쉽고 파악도 쉽다고 생각하기 때문에 util용도로 쓰는 함수는 괜찮지만 그 외의 함수는 비즈니스 단에서 처리하는게 맞는 것 같다라고 이야기를 해주셨다. 내가 걱정했던 부분과 상통하는 부분이 있어서 괜시리 기분이 좋아졌다. 이 다음 글은 프로시져에 관한 글인데 이것 또한 기대가 되는 부분이다.')])])}),[],!1,null,null,null);t.default=r.exports}}]);